INTSourceChangelist:3244370
Availability:Public
Title:明滅ライト
Crumbs: %ROOT%, Engine, Engine/Blueprints, Engine/Blueprints/UserGuide, Engine/Blueprints/UserGuide/Timelines
Description:色も変わる明滅ライトをセットアップするタイムラインの使用例。
version:4.9
tags:Blueprints

%Description%

## 明滅ライト

この例では、簡単なポイントライトを使用して、プレイヤーがトリガーに触れると、ライトの色が変化し、明滅を開始し、5 秒後に通常の状態に戻るように操作します。

この例の良い点は、タイムラインで利用可能な 3 つの異なるトラックタイプを利用していることです。 


![](Timeline.png)(w:600)

表示されているライトはその輝度で明滅し、色が変化します。

## セットアップ

タイムラインには、それぞれ別個のトラックを持つ 3 つの主要機能があります。

1. **浮動トラック** (Brightness と命名) は、輝度のアニメートを処理します。このカーブは、Flicker Curve アセットを使用して **コンテンツ ブラウザ** から追加されています。
2. **ベクタートラック** (Light Color と命名) は、ライトの色をアニメートします。これは、シーケンス開始時にライトがオレンジになり、最後に白に戻るように処理されました。カーブ補間はクランプするように設定されていて、次のキーまで値が一定になっています。
3. **イベント トラック** (Trigger Toggle と命名) は、タイムラインのシーケンスが続く間、トリガーを無効にします。これはイベントトラックであるため、キーフレームの値は関係ありません。タイムラインがキーフレームになると、トラックの関連出力ピンから実行信号が送られます。



ネットワークのロジックは非常に簡単です。常に点滅を初めから再生させたいため、イベントは Play from Start にフィードされます。しかし、再生中はタイムラインが再トリガーされないように boolean 値をチェックしますが、この値の唯一の目的は、タイムラインが再生しているかを確認することです。

この変数は、false のデフォルト値を持ちます。つまり、トリガーに初めて触れると常に再生します。つまり、トリガーに初めて触れると常に再生します。

* 輝度トラックの結果は、 20 で乗算されライトにさらに明暗度を与えます。 
* ライトの色は次の動作によっても変更されます。
* イベントトラックを使用して、Is Timeline Playing 変数を true に設定する FlipFlop をトリガーします。この変数は誰かがトリガーに触れると必ずチェックされるので、再生が始まると直ちにトリガーを無効にします。
* 再生が終了すると、イベントトラックが Toggle Trigger イベントトラックから他のパルスを送信し、FlipFlop を再度ヒットし、再度 boolean をオフにすることによって、トリガーを有効にします。


**クリックしてフルサイズで表示**

[REGION:lightbox]
[![FlickeringLightNetwork.png](FlickeringLightNetwork.png)(w:600)](FlickeringLightNetwork.png)
[/REGION]


