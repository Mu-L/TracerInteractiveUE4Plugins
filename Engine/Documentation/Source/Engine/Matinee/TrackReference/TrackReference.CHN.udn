Availability: Public
Title:Matinee轨迹参考指南
Crumbs: %ROOT%, Engine, Engine/Matinee
Description:本指南介绍了Matinee动画工具中的所有可用轨迹类型。

[TOC(start:2 end:2)]


Matinee提供了许多内置 **轨迹类型**，从而可以使得各种不同类型的actor上的不同数据类型产生动画。
通过使用 _轨迹_ ，您可以指示 _Actor_ 在场景中四处运动、在 _蓝图_ 中触发事件、调整 _Actor_ 的颜色或材质属性，以及本页面中介绍的其他元素。


##运动轨迹
其中一个最重要的 _轨迹_ 类别是 **运动轨迹** ，它用于在场景中随着时间四处移动 _Actor_ 。此应用的一个主要示例是 
生成 _Actor_ 要遵循的路径。创建路径非常简单，仅需选择您想修改的 _运动轨迹_ ，并执行以下操作：

* 拖拽到您想添加新的关键帧的时间点处。
* **按下回车键** 或者 **Add Key（添加关键帧）** 按钮来在那个时刻创建一个新的关键帧。
* 把 _Actor_ **移动** 到在那帧所期望的放置位置。
* 针对 **每个关键帧** 和期望的位置重复该操作，以创建您的路径。

当关卡加载时在Actor的初始位置为其创建一个初始关键帧然后再也不移动那个关键帧是个好主意。
否则随着Actor向动画数据禁止的地方移动，动画开始播放时将会看到‘跳跃’现象。

[REGION:fullwidth]
![move_3dpath.png](move_3dpath.png)
[/REGION] 

您将会在3D视口看到 _Actor_ 的路径。当选中该 _组_ 时，路径描画为黄色，当取消选择该组时则设置为 _编辑器组_ 的颜色。
您可以在3D视口中 **左击**  大的关键帧（较大的方框）来选中关键帧，这使您可以像在主要Matinee窗口中选中它们进行编辑时那样 
对其进行编辑。较小的框(更新)表示是0.1秒时间间隔，从而让您了解物体的速度。

当在关卡中选中关键帧时将会看到一个绿色的手柄，这允许您控制那个关键帧处的速度并允许重新调整曲线形状。
默认情况下，关键帧之间的插值模式是曲线，但是您可以通过在主要 _Matinee_ 窗口中 **右击** 一个关键帧并使用‘Interp Mode（插值模式）’菜单 
来改变插值模式。

![interp_mode_menu.png](interp_mode_menu.png)

[REGION:note]
_Matinee_ 窗口中的关键帧三角形的颜色指出了它当前使用的插值模式。
[/REGION]

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Ang Curve Tension（角度曲线张力） | 控制旋转路径的曲线的张力。|
| Disable Movement（禁用运动） | 允许您在预览时禁用该 _运动轨迹_ ; 当您相对于另一个 _Actor_ 对 _Actor_ 进行关键帧插值时这是有用的。|
| Hide 3D Track(隐藏3D轨迹) | 切换视口中轨迹的3D运动路径的显示情况。|
| Lin Curve Tension（线性曲线的张力） | 控制平移路径的曲线的张力。|
| Rot Mode(旋转模式) | 允许您选择决定所控制的Actor的旋转方式。|
| Show Arrow At Keys(在关键帧处显示箭头) | 在每个关键帧处显示一个箭头，从而允许您看到每个关键帧处的方位。|
| Show Rotation On Curve Ed（在曲线编辑器上显示旋转情况） | 如果该项为 _假_ , 那么当在 _Matinee_ 内的曲线编辑器上显示该轨迹时，不显示旋转轨迹。|
| Show Translation On Curve Ed（在曲线编辑器上显示平移） | 如果该项为 _假_ , 那么当在 _Matinee_ 内的曲线编辑器上显示该轨迹时，不显示平移轨迹。|
| Use Quat Interpolation （使用四元插值）|  在关键帧之间使用 _四元_ 线性插值。|

[REGION:tip]
请参照[](Engine\Matinee\HowTo\MHT_1) 和[](Engine\Matinee\HowTo\MHT_2)来获得关于应用运动轨迹在场景中移动Actor的示例。
[/REGION]


### 旋转度插值
_Matinee_ 使用两种不同的旋转度插值机制来在关键帧之间旋转 _Actors_ : **Euler（欧拉插值）** 和 **Quaternion（四元插值）** 。

* _Euler(欧拉插值)_ -是默认使用的机制，它通过在关键帧的值之间插值Actor的Yaw(偏转)、Pitch(倾斜)及Roll(旋转)进行工作。这允许您在曲线编辑器中随着时间编辑这三条曲线来调整方位并控制关键帧之间的 缓入/缓出。它也支持绕圈 -  也就是，如果您把一个对象旋转很多次，那么关键帧将存放周转的次数，而不是丢弃它。这使得给某些对象添加关键帧变得容易，比如正在拧到墙里的螺丝钉，同时使您可以完全地控制当Actor在两个方位之间移动时Actor所采用的方向。

* _Quaternion（四元插值）_ - 这种插值方法不支持绕圈，从本质上讲在关键帧之间它是线性的，不支持 缓入/缓出。但是，它更加强大，它总是可以找到两个不同方位之间的最短路线。

您可以使用详细信息面板中的 **Use Quat Interpolation（使用四元插值）** 设置来控制使用哪种方法。 


### 旋转模式
_Matinee_ 中有两种不同的旋转模式： **Keyframed（关键帧）** 和 **Look At Group（朝向组）** 。

* _Keyframed（关键帧）_ 是默认模式，Actor的方位由关键帧决定。
* _Look At Group（朝向组）_ - 表示您想让 _Actor_ 总是指向由另一个 _组_ 控制的 _Actor_ 。

当使用相机时 _Look At Group(朝向组)_ 模式是有用的，因为无论它移动到哪里您都可以使它总是朝向特定目标。要想使用 _Look At Group（朝向组）_ 作为旋转模式，请在 **LookAtGroupName** 域中输入您想让 _Actor_ 指向的组的名称，并设置  **RotMode(旋转模式)** 为 **RotMode** 。


### 相对于其他组运动
可以让一个 _运动轨迹_ 关键帧在同一个 _Matinee_ 序列中的另一个 _组_ 中查找变换信息。 
这意味着一个关键帧可以指向一个运动的对象，并且让 _运动轨迹_ 在那个位置处进行插值。 
这个应用的一个示例是设置一个总是能射中以不可预知方式移动的角色的射弹。

要想设置一个关键帧来在另一个 _组_ 中查找它的位置，那么请 **右击** 关键帧并选择 "Select Transform Lookup Group(选择变换查找组)..."。

![lookup_track1.png](lookup_track1.png)

这将显示一个对话框，让选择一个组，以便从该组中查找变换信息。

![lookup_track2.png](lookup_track2.png)

当选择组后，关键帧将把查找组的名称显示在其上面。 
以下图片显示了4个使用组Box1和Box2的关键帧在查找它们的位置信息。

[REGION:fullwidth]
![lookup_track3.png](lookup_track3.png)
[/REGION] 

要想清除一个关键帧的查找组，那么请 **右击** 关键帧并选择"Clear Transform Lookup Group(清除变换查找组)"。

![lookup_track4.png](lookup_track4.png)


### 分离平移和旋转
现在，可以把一个运动轨迹的平移分量和旋转分量分离开来，以便可以在每个坐标轴上独立地对其添加关键帧。 
这允许对运动轨迹曲线进行更加精细的控制。 分离 _运动轨迹_ 是一个可选的过程。 
最初，所有运动轨迹组合到一起，这意味着平移和旋转曲线具有相同数量的关键帧，并且所有关键帧位于相同的时间处。 

要想分离一个 _运动轨迹_, 仅需简单地右击一个 _运动轨迹_ 并从关联菜单中 **选择** **分离平移和旋转** 。

![MoveTrackMenu.png](MoveTrackMenu.png)

一旦分离了 _运动轨迹_ ，它将如下所示：

[REGION:fullwidth]
![SplitMoveTrack.png](SplitMoveTrack.png)
[/REGION] 

每个坐标轴可以作为独立轨迹操作，以便您可以在它们内设置任何数量的关键帧。

当不使用时，可以把平移和旋转分量放到一个组中，并且可以合并到一起。 平移和旋转组附近的竖条代表 
一个或多个坐标轴中的关键帧。 选中一个竖条，将选中它下面的所有关键帧。 这允许您一次选择多个关键帧。 

[REGION:note]
当平移分量和旋转分量分离开时不能使用四元插值模式。
[/REGION]


### 正规化速度 
当使用Bezier(贝塞尔)曲线时，通常可以使得对象根据曲线形状和关键帧之间的间距而沿着曲线加速运动或 
减速运动。 **正规化速度** 选项可以修改运动轨迹的平移曲线，以便使得对象沿着曲线以恒定速度运动。 
知道恒定速度使用您的运动轨迹曲线生成的3D路径是非常重要的。 当应用正规化速度时，每个坐标轴的二维平移曲线 
可以改变形状，但是它生成的三维路径则不可能从其原始路径发生修改。 

当选中Normalize velocity(正规化速度)菜单项后，它不会强制曲线变为恒定速度。 
它简单地通过检查原始曲线并把修改它们，进行一次性的调整以保持恒定速度。 
任何对曲线的后续修改都会导致它不再具有恒定速度。_正规化速度_ 仅在分离了 
平移和旋转的 _运动轨迹_ 上可用(请参照上面的 _分离平移和旋转_ )。 

您可以在曲线片段上 _正规化速度_ ，而不必在完整的间隔上进行正规化。当进行这种处理时， _正规化速度_ 照常 
在正规化部分的前面或后面添加一个关键帧。这样做是为了确保没有正规化的曲线部分仍然不影响。当一个对象沿着曲线变换到 _正规化速度_ 部分或者从 _正规化速度_ 部分变换而来时， 
您可能会发现有 _抖动_ 现象。 要想修复该问题，您将需要手动地 
调整此正规化片段之前和之后的关键帧。



##导演组
Director Groupa(导演组)是一种特殊类型的组，它不会作用于在场景中任意Actor上，比如正常的Actor，但是它间接地作用于‘玩家’。
当您想把序列设计为过场动画时或者您想控制玩家视角时就要使用到它。

和正常的Group（组）一样，您可以使用相同的方式来把Director Group（导演组）添加到Matinee序列中，但是这次要选择‘Add New Director Group（添加新的调导演组）’。_导演组_ 的标题颜色和正常的组标题颜色有所区别， 
以便可以更轻松地找到它。

_导演组_ 有一组可以进行添加的独特 _轨迹类型_ ，下面对其进行了概述。


### 导演轨迹
**Director Track(导演轨迹)** 允许随着序列的进行把玩家视角附加到不同的Actor上。当您添加一个新关键帧到 _导演轨迹_ 时， 
有一个复选框允许您选择此时将该视图分配给哪个 _组_ 。

_导演轨迹_ 上的彩色横条允许您查看在序列的每个点处相机正在通过哪个组查看 - 颜色对应着 
每个组的编辑器组颜色。

如果您想将相机返还给玩家，那么请简单地添加一个‘倒回’到 _导演组_ 本身(将 _导演组_ 想像成一个和玩家相关的特殊组)。
在该序列的尾部，视图将自动返还给玩家，所以不需要给 _导演组_ 添加倒回处理。

![dir_track.png](dir_track.png)


#### 镜头
_导演轨迹_ 细分为所谓的 **镜头*** ，就像您在标准的电影制作中所遇到的一样。 每个帧代表一个新的镜头，并且该镜头持续那帧 
那么长的时间。

![shot_label.png](shot_label.png)

默认情况下，会根据镜头在时间轴上的位置对镜头进行编号。在两个现有关键帧之间添加一个新的关键帧将会导致和新关键帧相关的 
镜头编号在这个现有镜头之间。

**现有关键帧:**
[REGION:fullwidth]
![shot_before.png](shot_before.png)
[/REGION] 

**添加新的关键帧后:**
[REGION:fullwidth]
![shot_after.png](shot_after.png)
[/REGION] 

可以通过关联菜单来重命名镜头。

1. 现有镜头名称:   
    ![shot_label.png](shot_label.png)
1. **选择** 和该镜头相关的关键帧，右击它，并在关联菜单中选择 *Rename(重命名)* 。  
    ![track_menu.png](track_menu.png)
1. 在 **Set Camera Shot Number(设置相机镜头编号)** 对话框中输入该镜头的编号：   
    ![shot_dialog.png](shot_dialog.png)
1. 现在该镜头被重命名为:   
    ![shot_renamed.png](shot_renamed.png)


## 渐变轨迹
Fade Track（渐变轨迹）用于控制场景向某个特定颜色渐变过程。为了控制随着时间的渐变量， 
您必须使用[曲线编辑器](Engine/UI/CurveEditor)。当Fade Amount(渐变量)是0.0时，不会发生渐变；当它是1.0时，场景将完全淡出。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Persist Fade（保持渐变） | 启用及禁用 _Fade Track（渐变轨迹）。_ |

### 慢动作轨迹
通过使用 **Slomo Track（慢动作轨迹）** ，您可以给过场动画应用一种特殊效果，来降低游戏速度。该 _轨迹_ 的工作原理和 _渐变轨迹_ 类似， 
您使用 [曲线编辑器](Engine/UI/CurveEditor) 随着时间来修改慢动作运动。慢动作因数为1.0，将使用默认游戏速度，使用较小的值将降低游戏速度， 
使用较大的值将增加游戏速度。

Slomo（慢动作）处理影响所有游戏动作、物理、粒子等,同时也影响序列本身的速度。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|


### 音频控制轨迹
**Audio Master Track(音频控制轨迹)** 允许您控制游戏音频的整体音量和音调。当把一个 _Master Track(音频控制轨迹)_ 添加到 _导演组_ 中时， 
在序列的开始处有一个默认关键帧，该序列的 **插值模式** 是线性插值。添加新的关键帧允许您在序列播放过程中修改 音量 和/或 音调。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|


### 颜色比例轨迹
 **Color Scale Track(颜色比例轨迹)** 可以修改渲染的场景输出的颜色比例，允许您给场景着色。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|


## 属性轨迹
**属性轨迹** 包含了几种不同的 _轨迹类型_ 并且在该 _轨迹_ 附加到的 _Actor_ 内包含一个变量。
您可以通过 **右击** 一个关键帧并选择同选中的 _轨迹类型_ 相对应的 **设置** 动作来为 _属性轨迹_ 设置新的变量值。

然而，在可以将 _属性轨迹_ 添加到 _Matinee_ 之前，必须先“暴露”它，以便 _Matinee_ 可以影响它。

### 暴露轨迹给Matinee
通过选择变量所在的 _蓝图_ 的详细信息面板中的 **暴露给Matinee** 复选框，便可以将一个变量暴露给 _Matinee_ ， 
正如下图所示。

![Expose_ToMatinee.png](Expose_ToMatinee.png)

一旦您编译了您的 _蓝图_ 后，该变量类型便可以在 _Matinee_ 中用作为一种 _轨迹类型_ 。

[REGION:note]
要想在代码中暴露变量，那么只需在[`UPROPERTY()` 宏]中简单地添加 `Interp` 作为关键字。
[/REGION]

尽管大部分 _轨迹_ 都可以立即添加并应用，但是以下 _轨迹类型_ 需要暴露给 _Matinee_ (或通过代码)才能使用它们。 


### 布尔型属性轨迹
**布尔型属性轨迹**控制和包含该轨迹的组相连的actor中的布尔变量。当添加该 _轨迹_ 时， 
将会出现一个对话框，允许您从连接到 _Matinee_ 可以控制的 _Actor_ 的所有布尔型变量中选择。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Property Name（属性名称）| 它是个只读变量，指出了该轨迹随着时间所修改的连接actor中的属性的名称。|


### 浮点型属性轨迹
 Float Property Track(浮点型属性轨迹)允许您随着时间修改浮点型属性的值，比如光源的亮度、或者静态网格物体的描画比例。当您创建这种类型的轨迹时，将会弹出一个组合框显示了那个组的Actor的所有可修改的属性。选择其中一个您想修改的属性，然后使用和操作Movement Track(运动轨迹)一样的方式来 添加/修改关键帧。您可以使用[曲线编辑器](Engine/UI/CurveEditor) 来随着时间调整参数的值。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Property Name（属性名称）| 它是个只读变量，指出了该轨迹随着时间所修改的连接actor中的属性的名称。|


### 向量型属性轨迹
Vector Property Track(向量属性轨迹)允许您随着时间修改Actor的Vector（向量）属性的值，比如静态网格物体的DrawScale3D变量。当您创建这种类型的 _轨迹_ 时， 
将会弹出一个组合框显示了那个组的Actor的所有可修改的属性。选择您需要的属性，然后就像您给 _运动轨迹_ 添加/修改关键帧一样 
对其进行处理。您可以使用[曲线编辑器](Engine/UI/CurveEditor) 来随着时间调整参数的值。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Property Name（属性名称）| 它是个只读变量，指出了该轨迹随着时间所修改的连接actor中的属性的名称。|


### 线性颜色属性轨迹
 Linear Color Property Track(线性颜色属性轨迹)用于修改附加actor中的线性颜色变量。
比如，如果您有一个 _光源组件_ 作为 _蓝图_ 的一部分，那么您可以分配一个线性颜色变量作为该光源的颜色，然后可以使用这种类型的轨迹修改它。
线性颜色的分量所使用的值的范围在0到1之间(较高的值将超出分量的范围)。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Property Name（属性名称）| 它是个只读变量，指出了该轨迹随着时间所修改的连接actor中的属性的名称。|


### 颜色属性轨迹
 Color Property Track(颜色属性轨迹)用于控制附加的actor中的基于字节的Color（颜色）变量。
比如，和 **线性颜色属性轨迹** 不同，如果您直接在关卡中放置了一个  _光源Actor_ ，那么您便可以通过这种类型的轨迹 
调整 **光源颜色** 。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Property Name（属性名称）| 它是个只读变量，指出了该轨迹随着时间所修改的连接actor中的属性的名称。|



## 材质参数轨迹
有两种类型可以由 _Matinee_ 驱动的 **材质参数轨迹** ： **浮点型材质参数** 和 **向量型材质参数** 。


### 浮点型材质参数轨迹
 **浮点型材质参数轨迹 ** 用于在运行时修改材质中的Scalar Parameters(标量参数)。该 _轨迹_ 获取一系列的材质，并修改 
这些材质中的特定参数的值。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Target Materials（目标材质） | 将要修改其参数的材质列表，及在关卡中到这些材质的引用，这些引用需要被赋予MaterialInstanceConstants ，在保存时编译。 |
| Param Name（参数名称） | 材质中要修改的参数的名称。|

### 向量型材质参数轨迹
**向量材质参数轨迹** 用于在运行时修改材质中的Scalar Parameters(标量参数)。该 _轨迹_ 获取一系列的材质，并修改 
这些材质中给定参数的值。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Materials（材质） | 将要修改其参数的材质列表，及在关卡中到这些材质的引用，这些引用需要被赋予MaterialInstanceConstants ，在保存时编译。|
| Param Name（参数名称） | 材质中要修改的参数的名称。|


## 粒子轨迹
有两种类型可以由 _Matinee_ 驱动的 **粒子轨迹** ： **浮点型粒子参数轨迹** 和 **粒子重放轨迹** 。

### 浮点型粒子参数轨迹
**浮点型粒子参数轨迹** 用于在运行时修改粒子系统中的参数分布。将会修改连接到 
包含该 _轨迹_ 的组上的任何粒子系统中具有特定参数名称的任何参数。这意味着，您可以具有一个火粒子系统，有针对火焰、火花、 
烟雾的发射器，每个发生器都有控制生成速率的参数  _SpawnRate(生成速率)_ 。一个单独的 _浮点型粒子参数轨迹_ 可以驱动所有这些参数来 
控制火焰。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Param Name(参数名称) |  粒子系统中要修改的参数的名称。|


### 粒子重放轨迹
**Particle Replay Track（粒子重放轨迹）** 允许您创建并播放预先录制的粒子仿真。当您想让粒子在所有镜头中都表现一样时，这是 
非常有用的。当您向 _粒子重放轨迹_ 添加一个新的关键帧时，从本质上讲您是添加了一个新的要录制的剪辑。对于每个剪辑，时间轴上会显示一个横条， 
代表该剪辑的持续时间。

![replay_bar.png](replay_bar.png)

当选中该横条时，您可以通过使用时间轴中的剪辑横条任何一段的手柄来调整剪辑的起始点和持续时间。在任何手柄上 **左击** 
并拖拽鼠标，通过移动那个手柄来调整剪辑的持续时间。要想移动该剪辑，而不修改其持续时间，那么请按住 **Ctrl+左击** 并 
在关键帧本身上 **拖拽** 。
[REGION:fullwidth]
![replay_handles.png](replay_handles.png)
[/REGION] 

通过在时间轴上右击剪辑的横条并从菜单中选择适当的选项，您也可以调整剪辑的起始位置、持续时间 
和修改剪辑ID。

![replay_menu.png](replay_menu.png)

要想开始录制粒子系统，只要 **右击** 轨迹并从关联菜单中选择 **Start Recording Particles(开始录制粒子)** 即可。

![replay_start.png](replay_start.png)

当录制激活时，剪辑横条在时间条上高亮显示。

![replay_start_bar.png](replay_start_bar.png)

按下工具条上的 ![replay_play.png](replay_play.png) 按钮开始播放。当录制启用时，轨迹将会在播放期间录制粒子。
一旦录制完成，再次右击轨迹并选择 **Stop Recording Particles(停止录制粒子)** 即可。

![replay_stop.png](replay_stop.png)

现在，当您按下 ![replay_play.png](replay_play.png)时，粒子系统将从录制的剪辑开始重放，您可以 
拖拽时间轴来在剪辑上向前及向后移动来检查该录制效果。


## 动画轨迹
**Animation Track（动画轨迹）** 允许您让 _Actor_ 的属性随着时间产生动画，以创建动态游戏可玩性或过场动画游戏序列。
通过使用这种 _轨迹类型_ ，您可以放置关键帧来控制何时及如何播放特定动画。

要想添加动画到该 _轨迹_ ，请沿着该轨迹拖拽，并按下 **回车** 键或者 **添加关键帧** 按钮。当添加了一个关键帧后，将提示您 
通过如下所示的弹出窗口来选择要添加到该轨迹的动画。

[REGION:fullwidth]
![animtrack_animation_select.png](animtrack_animation_select.png)
[/REGION] 

一旦动画添加到该 _轨迹_ 后，它将显示为蓝色。您可以通过 **左击** 该关键帧选中它来操作该动画。

选中该动画后，您可以通过移动鼠标光标到起始点或结束点，直到双向箭头显示为如下所示，并在 
任意方向上进行拖拽来调整长度。

[REGION:fullwidth]
![animtrack_adjust_time.png](animtrack_adjust_time.png)
[/REGION] 

您也可以通过在动画上按下 **CTRL+左击** 并沿着该 _轨迹_ 拖拽它来在轨迹上移动动画的位置。

[REGION:fullwidth]
![animtrack_moving.png](animtrack_moving.png)
[/REGION] 

动画上显示的数字表示该动画将播放速度的乘数(起点->终点)。Start/End(起点/终点)乘数后的数字(比如x0.89),表示 
当该值为1.0时，动画的播放速率是默认速率，较高的值则增加播放速率，较低的值则降低播放速度。要想调整播放速度， 
请在调整动画长度是按住 **CTRL** 键。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Slot Name（镜头名称） | 播放动画时使用的镜头名称。传给 _Actor_ 。当多个任务使用相同的镜头名称时，那么在调用 _SetAnimPosition_ 时则为每个镜头赋予一个不同的 _ChannelIndex_ 。|
| Skip Anim Notifiers（跳过动画通知） | 跳过所有动画通知。|


##事件轨迹
Event Track（事件轨迹）给Matinee提供了一种在序列的特定点处激活事件使它返回到 _蓝图_ 中的机制。当您在一个 _事件轨迹_ 上放置一个关键帧时， 
将要求您提供一个 **事件名称** 。每个独特的 _事件名称_ 将在 _Matinee Actor_ 上创建一个新的输出连接器。当该序列到达该关键帧时，任何连接到该输出的 
_蓝图_ 节点都将被激活。如果您有多个具有相同名称的关键帧，那么将会创建一个输出连接器，但是每当经过这些关键帧中的每一个时都 
会触发该输出端。

这里是具有一个关键帧"ToggleLight"的 _事件轨迹_ 。

![event_track.png](event_track.png)

这是 _蓝图_ 中的 _Matinee Actor_ ,显示了您可以连接其触发事件的新的输出连接器。

![event_connector.png](event_connector.png)

_事件轨迹_ 手柄上的![eventarrows.jpg](eventarrows.jpg) 按钮允许您控制当序列正向播放、逆向播放或者双向播放时是否应 
该触发Output端。如果右箭头按钮是黄色的，那么当正向播放序列经过轨迹上的这些事件时触发它们。如果左箭头是黄色， 
则当逆向播放序列时激活事件。

无论该 _事件轨迹_ 位于哪个组中， 无论是否有 _Actor_ 附加到该组上， _Matinee Actor_ 都将会为 
放置到其 _轨迹_ 上的每个关键帧创建一个输出连接器。您也可以 **右击** 一个关键帧来重命名它，这样做将重命名具有相同名称的任何其他关键帧及 
_Matinee Actor_ 上的输出连接器。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Fire Events When Backwards（当反向播放时激活事件） | 如果该项为true，那么当Matinee反向播放时激活该轨迹上的事件。|
| Fire Events When Forwards（当正向播放时激活事件） | 如果该项为true，那么当Matinee正向播放时激活该轨迹上的事件。|
| Fire Events When Jumping Forward（当跳跃正向播放时激活事件）| 如果该项为true，将允许激活轨迹上的所有事件，即时Matinee跳跃播放也可以。|


## 音效轨迹
 Sound Track(声效轨迹)用于在Matinee序列过程中从SoundCues播放音频。当放置一个关键帧时，将会使用内容浏览器中当前选中的SoundCue。Sound Track(声效轨迹)的关键帧看上去和动画控制轨迹的关键帧类似。您将看到一个名称为 _SoundCue_ 的横条，延伸长度为此 _SoundCue_ 的持续时间长度。

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Continue Sound On Matinee End(当到达Matinee尾端时继续播放声效) | 如果该项为true，那么如果声效的持续时间超出Matinee序列的尾端时将不会终止音效播放。而是继续播放音效直到其结束为止。|
| Play On Reverse(反向播放) | 如果该项为true，那么仅当Matinee序列反向播放时才播放在这个轨迹的声效。当正向播放序列时不播放声效。使用这个功能的一个示例是具有不同开始音乐和结束音乐的Movers（移动对象）。|
| Suppress Subtitles（禁止字幕）|  如果该项为true，那么将不显示在这个轨迹上播放的声效相关的任何字幕。|


##切换轨迹
 **Toggle Track(切换轨迹) ** 为Matinee提供了一种在序列的特定点处切换 _Emitter actor(发射器actor)_ 打开或关闭状态的机制。当您在一个 _切换轨迹_ 上放置一个关键帧时， 
将呈现以下对话框：

![PSysToggle_Key.png](PSysToggle_Key.png)

选项是:
* **Trigger(触发器)** - 一次性激活粒子系统。
* **On** - 打开粒子系统。
* **Off** - 关闭粒子系统。

当启动发射器时，轨迹将显示一个绿条，使得辨别actor的状态变得更加容易。正如下面所示，一个 _切换轨迹_ 
启动了发射器又再次将其关闭。

![PSysToggle_Track.png](PSysToggle_Track.png)

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Activate System Each Update(每次更新时激活系统) | 如果该项为ture，那么每次更新 (旧的'错误' 行为)都会在发射器上调用ActivateSystem。如果该项为false，仅当粒子系统先前为非激活状态时才激活它。|
| Activate with Just Attached Flag（仅使用附加标志激活） |如果该项为 _true_, 则仅使用附加标志激活系统。 |
| Fire Events When Backwards（当反向播放时激活事件） | 如果该项为true，那么当Matinee反向播放时激活该轨迹上的事件。|
| Fire Events When Forwards（当正向播放时激活事件） | 如果该项为true，那么当Matinee正向播放时激活该轨迹上的事件。|
| Fire Events When Jumping Forward（当跳跃正向播放时激活事件）| 如果该项为true，将允许激活轨迹上的所有事件，即时Matinee跳跃播放也可以。|
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|


## 可见性轨迹
Visibility Track(可见性轨迹)用于控制一个Actor是否可以见(通过使用 **游戏中隐藏的Actor** 属性)。当为该 _轨迹_ 添加一个新的关键帧时， 
将为您呈现一个对跨框，提供了选项供您 **显示** 、**隐藏** 及 **切换** 相关的 _Actor_ 。

![visibilitymenu.png](visibilitymenu.png)

当Actor设置为可见稍后又设置为不可见状态时该轨迹将显示一个绿色的横条，使得actor状态的辨别变得更加容易。正如下面所示的， 
一条 _可见性轨迹_ 将该 _Actor_ 显示1秒有将其隐藏起来。

![visibilitytrack.png](visibilitytrack.png)

用于切换actor可见性而设置的关键帧显示为小红条，代表它们是用于切换的关键帧。

![visibilitytoggle.png](visibilitytoggle.png)

以下是可以从 **详细信息** 面板中为该 _轨迹_ 调整的一些 _属性_ 。

| 属性 | 描述 |
| ------- | ------------ |
| Active Condition(激活条件) | 设置什么时候启用该轨迹：总是启用、当启用血腥时、或当禁用血腥时。|
| Curve Tension（曲线张力） | 控制当使用自动切线时曲线的张力。|
| Property Name（属性名称）| 它是个只读变量，指出了该轨迹随着时间所修改的连接actor中的属性的名称。|


