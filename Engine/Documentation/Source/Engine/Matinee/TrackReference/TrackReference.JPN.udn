INTSourceChangelist:2738595
Availability:Public
Title:マチネ トラック リファレンス
Crumbs: %ROOT%, Engine, Engine/Matinee
Description:マチネ アニメーション ツールで利用できる全てのトラック タイプをカバーしているリファレンスです。
Version:4.9

[TOC(start:2 end:2)]


マチネには、ビルトインの **トラックのタイプ** が多数あり、様々なタイプの _アクタ_ 上で各種データをアニメートすることができます。 
_トラック_ を使用することで、シーンで思うままに _アクタ_ を移動させたり、 _ブループリント_ でイベントを発行したり、 _アクタ_ のカラーあるいはマテリアル プロパティを調整したり、その他このページで説明することができるようになります。 


##Movement トラック
**Movement トラック** は、最も重要な Track クラスの 1 つです。時間経過にともなって _アクタ_ を動かすために使用します。これの代表的な例は、 
_アクタ_ が通るパスを作成することです。_アクタ_ が通るパス (道) を作成するには、編集する Movement トラックを選択して、次のようにするだけです。

* 新たなキーフレームを追加する時点までスクラブします。
* **[Enter]** キーまたは **[キーを追加]** ボタンを押して、その時点に新たなキーフレームを作成します。
* そのフレームで望ましい位置に _アクタ_ を **移動** します。
* **これを各キーフレームについて繰り返して** 望ましい位置にパスを作ります。 

レベルロード時の初期位置で _アクタ_ のための初期キーフレームを作成し、そのキーフレームを動かさないことが肝要となります。 
そうでなければ、再生が開始したときに「ポップ」(突然の出現) が発生する場合があります。これは、アニメーションデータによって禁じられている位置に _アクタ_ が移動するために起こります。

[REGION:fullwidth]
![move_3dpath.png](move_3dpath.png)
[/REGION] 

3D ビューポートに _アクタ_ のパスが表示されます。パスは、 _グループ_ が選択されている場合は、黄色で描画され、選択されていない場合は _エディタ グループ_ カラーに設定されます。 
3D ビューポート内の大きなキー (ボックス) を **左クリック** して、メインの _マチネ_ ウインドウで選択するのと同様の方法で、 
キーを選択し、編集することができます。小さなボックス (ティック) は、 0.1 秒の間隔を示しています。これによって、オブジェクトの速度を把握することができます。

キーフレームを選択すると、レベルのビューポート内に緑色のハンドルが現れます。これによって、そのキーにおける速度を調整し、カーブの形を変更することができます。 
キーフレーム間の補間モードはデフォルトでカーブになっていますが、この補間モードは変更することができます。そのためには、メインの [Matinee] ウィンドウのキーを **右クリック** するか、 
**[Interp Mode]** メニューを使用します。 

![interp_mode_menu.png](interp_mode_menu.png)

[REGION:note]
_[Matinee]_ ウインドウ内にあるキーフレームの三角形の色は、現在使用している補間モードを示しています。 
[/REGION]

以下は、 **[Details (詳細)]** パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| Active Condition (アクティブ条件) | トラックが有効になる場合を設定します。これには、「つねに」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| Ang Curve Tension (角度カーブテンション) | 回転パスのカーブのシャープ度を制御します。 |
| Disable Movement (Movement の無効化) | この _Movement トラック_ をプレビューで無効にすることができます。もうひとつの _アクタ_ に相対的に _アクタ_ をキーフレーム化する場合に便利です。 |
| Hide 3D Track (3D トラックを非表示に) | ビューポート内でトラックの 3D 移動パスの表示を切り替えます。 |
| Lin Curve Tension (線形カーブテンション) | 平行移動パスのカーブのシャープ度を制御します。 |
| Rot Mode (回転モード) | 制御される _アクタ_ の回転を決定する方法を選択できます。 |
| Show Arrow At Keys (キーで矢印を表示) | 各キーフレームで矢印を表示することによって、各キーフレームの方向を見ることができます。 |
| Show Rotation On Curve Ed (カーブエディタ上で回転を表示) | _false_ の場合、 _マチネ_ の カーブエディタにこのトラックが表示されると、回転トラックは表示されません。 |
| Show Translation On Curve Ed (カーブエディタ上で平行移動を表示) | _false_ の場合、 _マチネ_ の カーブエディタにこのトラックが表示されると、Translation (平行移動) トラックは表示されません。 |
| Use Quat Interpolation (クォータニオン補間を使用) | キー間で _クォータニオン_ 線形補間を使用します。 |

[REGION:tip]
Movement トラックを使ってシーンでアクタを移動させる例は [](Engine\Matinee\HowTo\MHT_1) および [](Engine\Matinee\HowTo\MHT_2) を参照してください。
[/REGION]


### 回転補間
_マチネ_ は、キーフレーム間で _アクタ_ を回転させるために 2 種類の回転補間スキームを使用します。それは **オイラー** と **クォータニオン** です。

* _オイラー_ は、デフォルトの回転補間です。複数キーフレームの値の間で、 _アクタ_ のヨー、ロール、ピッチを補間します。そうすることで、カーブエディタで回転のための 3 つのカーブの経時的な方向の編集が可能になり、キーフレーム間のイーズイン / イーズアウトも調整できます。オイラーはワインディングもサポートしています。ワインディングとは、あるオブジェクトを複数回、回転させたときに、キーフレームは完了した回転数を破棄するのではなく保存することを言います。これによって、壁の中に入っていくネジのようなものをキーフレーム化することが容易になります。また、 _アクタ_ が 2 つの方向に動く場合に、アクタが取るべき方向を完全に制御することが可能になります。

* _クォータニオン_ の補間ではワインディングがサポートされていません。また、キーフレーム間は本質的に線形であり、イーズイン / イーズアウトはサポートされていません。ただし、クォータニオンはよりロバストであり、異なる 2 つの方向間で「最短」ルートを常に見つけます。

使用する方法を変更するには、[Details (詳細)] パネルから **[Use Quat Interpolation]** 設定を切り替えます。  


### 回転モード
_マチネ_ には 2 つの回転モードがあります。 **Keyframed** と **Look At Group** です。

* _Keyframed (キーフレーム化)_ がデフォルトのモードです。 _アクタ_ の方向がキーフレームによって決定されます。
* _Look At Group (グループを見る)_ では、アクタが、他の _グループ_ によって制御されている _アクタ_ の方向を常に向きます。 

ターゲットが移動しても常にその特定のターゲットの方を向かせることができるので、このモードはカメラを使用する場合に便利です。回転モードとして _Look At Group_ を使用するには、 **LookAtGroupName** 欄に、アクタを向かせるグループの名前を入力し、 **RotMode** 設定項目を **IMR_LookAtGroup** に設定します。


### 他のグループに関連付ける移動
_Movement トラック_ のキーフレームに、同一の _マチネ_ シーケンス内にある別の _グループ_ から、変形情報をルックアップさせることが可能です。  
つまり、キーフレームが動くオブジェクトを指し、 _Movement トラック_ にその位置まで補間させることが可能になります。  
この使用例としては、予測不可能な動きをするキャラクターに必ず命中する発射物をアニメートする場合が考えられます。

他の _グループ_ から位置をルックアップできるようにキーフレームをセットアップするには、キーフレーム上で **右クリック** して、 **[Select Transform Lookup Group...]** を選択します。

![lookup_track1.png](lookup_track1.png)

これによって、ダイアログ ボックスが表示されるので、変形情報をルックアップする _グループ_ を選択できるようになります。

![lookup_track2.png](lookup_track2.png)

_グループ_ の選択が終わると、キーフレームの上にルックアップ _グループ_ の名前が表示されます。  
下の図では、4 つのキーフレームが、位置情報をルックアップするために **Box1** と **Box2** の _グループ_ を使用しています。

[REGION:fullwidth]
![lookup_track3.png](lookup_track3.png)
[/REGION] 

キーフレームのためのルックアップ _グループ_ を削除するには、キーフレーム上で **右クリック** して、 **[Clear Transform Lookup Group]** を選択します。

![lookup_track4.png](lookup_track4.png)


### 平行移動と回転を分離する
_移動 トラック_ の平行移動と回転成分を「分割」して、それぞれを各軸上でキーフレーム化することが可能になりました。  
これによって、 _Movement トラック_ のカーブをより精細に調整できます。_Movement トラック_ の分割はオプトイン プロセスです。  
まず、すべての _Movement トラック_ が結合されます。つまり、平行移動のカーブと回転のカーブが同一のキーフレーム数をもち、すべてのキーフレームが時間内に同一の位置に存在することになります。  

_Movement トラック_ を分割するには、 _Movement トラック_ 上で **右クリック** してコンテキストメニューから、 **Split Translation and Rotation (平行移動と回転を分割する)** を選択するだけです。

![MoveTrackMenu.png](MoveTrackMenu.png)

_Movement トラック_ の分割が終わると、次のようになります。

[REGION:fullwidth]
![SplitMoveTrack.png](SplitMoveTrack.png)
[/REGION] 

各軸は、固有の _トラック_ のように機能するため、キーフレームをいくつでも持つことができます。

平行移動および回転の成分はグループ化され、使用していない場合は折りたたむことができます。平行移動および回転のグループの隣に描画されている垂直のバーは、 
1 つ以上の軸におけるキーフレームを示しています。1 つの垂直バーを選択すると、それより下にあるキーフレームがすべて選択されます。これによって、複数のキーフレームを同時に選択することができます。  

[REGION:note]
平行移動と回転が分離されている場合は、クォータニオン補間モードを使用することができません。
[/REGION]


###速度を標準化 
ベジェ曲線を使用すると、キーフレームの形状と間隔に応じてカーブに沿って移動するオブジェクトの速度を 
速めたり遅くしたりする状況を作り出すことができます。**[Normalize Velocity]** オプションによって、 _Movement トラック_ の平行移動のカーブが修正され、カーブに沿って移動するオブジェクトが一定の速度で進むようになります。  
一定の速度では、 _Movement トラック_ のカーブが生成する 3D パスを使用するということを理解しなければなりません。速度の標準化が使用される場合、 
平行移動の各軸のための 2D カーブは形状を変更する場合がありますが、速度の標準化によって生成される 3D パスは、元のパスから変更されません。  

_速度の標準化_ では、メニューオプションが選択された後は、強制的にカーブを一定の速度に変えません。  
元のカーブを調べ、一定の速度を維持できるようにカーブを変更して、一回調整を行うだけです。  
その後、カーブに変更が生じると、一定の速度を維持できなくなる場合があります。 _速度の標準化_ は、 
_平行移動_ と回転が分離している Movement トラック でのみ使用できます (上記 _平行移動と回転を分離する_ を参照)。  

インターバル全体ではなく、カーブのセグメント上で _速度の標準化_ を行うことができます。その場合、 _速度の標準化_ ルーチンは、 
セクションが標準化される直前直後にキーフレームを追加します。これは、標準化されていないカーブの部分をそのままにしておくための措置です。カーブに沿って移動しているオブジェクトが、 
_速度の標準化_ のセクションに (またはセクションから) 移行する場合、再生中に「急激な」動きに気づく場合があります。これを修正するには、標準化されたセグメントの前後にあるキーフレームを 
手動で調整します。



## Director グループ
**Director グループ** は特殊なグループです。通常の _アクタ_ のようなシーン内にある任意の _アクタ_ には作用せず、暗黙的に「プレイヤー」に働きかけます。 
これが使用されるのは、シーケンスをシネマティックスにする場合とプレイヤーのビューを制御する場合です。

_Director グループ_ を _マチネ_ シーケンスに追加するには、通常の _グループ_ の場合と同じようにします。ただし、 **[Add New Director Group]** を選択しなければなりません。_Director グループ_ は 
ヘッダの色が通常のグループのヘッダと異なっているため、容易に見つけることができます。 

_トラック_ の中には、 _Director グループ_ にしか追加できないタイプがいくつかあります。以下の通りです。 


###Director トラック
**Director トラック** を使用することによって、シーケンスが進むにつれて、プレイヤーのビュー (視点) を様々な _アクタ_ にアタッチさせることができます。新たなキーフレームを _Director トラック_ に追加するには、 
コンボボックスを使って、その位置でビューを割り当てる _グループ_ を選択します。 

_Director トラック_ 上の色付きのバーは各グループの _エディタ グループ_ の色に一致しているので、 
シーケンスの各地点でカメラがどの _グループ_ を表示しているのかが分かります。 

カメラをプレイヤーに戻すには、カットバックを _Director グループ_ 自体に加えるだけで済みます (_Director グループ_が「プレイヤー」に関連する特別なグループであると考えます)。 
シーケンスの最後でビューが自動的にプレイヤーに返されるので、_Director グループ_ へのカットバックが不要になります。

![dir_track.png](dir_track.png)


#### ショット
標準的な映画制作で行うように、_Director トラック_ は **ショット** というものに細分化されます。各キーは新規ショットを示し、 
ショットはそのキーの継続時間に対して持続します。

![shot_label.png](shot_label.png)

デフォルトでは、ショットはタイムラインの位置に従って番号が付けられています。存在する 2 つのキーの間に新規にキーを追加すると、追加されたそのキーに関連付いているショットは 
既存ショットの間の番号が付けられます。

**既存のキー**
[REGION:fullwidth]
![shot_before.png](shot_before.png)
[/REGION] 

**新規キーの追加後**
[REGION:fullwidth]
![shot_after.png](shot_after.png)
[/REGION] 

ショット名はコンテキスト メニューで付け直すことができます。

1. 現在のショット名:   
    ![shot_label.png](shot_label.png)
1. ショットが関連付いているキーを選択し、 **右クリック** して、コンテキスト メニューで **[Rename]** を選択します。   
    ![track_menu.png](track_menu.png)
1. **[Set Camera Shot Number]** ダイアログにそのショットに対する新しい番号を入力します。   
    ![shot_dialog.png](shot_dialog.png)
1. これでショット名が変更されました。   
    ![shot_renamed.png](shot_renamed.png)


### Fade トラック
シーンを特定の色にフェードさせるには、 **Fade トラック** を使います。フェード量を経時的に調整するには 
[カーブエディタ](Engine/UI/CurveEditor) を使用しなければなりません。フェード量が 0.0 の場合はフェードしません。 1.0 の場合はシーンが完全にフェードします。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| Active Condition (アクティブ条件) | トラックが有効になる場合を設定します。これには、「つねに」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| Curve Tension (カーブ テンション) | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| Persist Fade | _Fade トラック_ を有効あるいは無効にします。 |

###Slomo トラック
シネマティックスに追加する特別なエフェクトとして、 **Slomo トラック** を使ってゲーム スピードを遅くするものがあります。このトラックは、スローモーションを経時的に変更するために、 
[カーブエディタ](Engine/UI/CurveEditor) を使用する _Fade トラック_ と同じように機能します。デフォルトのゲームスピードは、 Slomo 係数が 1.0 です。 
1.0 よりも小さくなると、ゲームスピードが遅くなり、大きくなるとスピードが上がります。

Slomo は、シーケンスそのものの進行速度だけではなく、ゲームのすべてのアクションおよび物理、パーティクルなどに影響します。 

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| Active Condition (アクティブ条件) | トラックが有効になる場合を設定します。これには、「つねに」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| Curve Tension (カーブ テンション) | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |


### Audio Master トラック
**Audio Master トラック** によって、ゲームのオーディオの全体的なボリュームとピッチを調整することができます。_Audio Master トラック_ が _ディレクトリ グループ_ に追加されると、 
シーケンスの開始位置にデフォルトのキーが 1 つできます。その **Interp モード** は Linear (線形) です。新たなキーを追加すると、ボリュームまたはピッチ (またはその両方) をシーケンスにわたって修正できるようになります。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| Active Condition (アクティブ条件) | トラックが有効になる場合を設定します。これには、「つねに」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| Curve Tension (カーブ テンション) | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |


###Color Scale トラック
**Color Scale トラック** は、レンダリングされたシーンの出力で、そのカラースケールを修正し、シーンの色調を調整することができます。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| Active Condition (アクティブ条件) | トラックが有効になる場合を設定します。これには、「つねに」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| Curve Tension (カーブ テンション) | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |


## Property トラック
**Property トラック** は幾つかの異なる _トラック タイプ_ で構成されており、 _トラック_ がアタッチされている _アクタ_ 内の変数を含みます。 
キーフレームを **右クリック** し、選択した _トラック タイプ_ に対応する **Set (設定)** アクションを選択すると、 _Property トラック_ の値が新規に設定されます。 

ただし、 _Property Track_ を _マチネ_ に追加する前に、まず「公開」して _マチネ_ が影響を与えられるようにしておかなければなりません。 

### トラックをマチネに公開する
変数を _マチネ_ に公開するには、変数が存在している _ブループリント_ の  
**[Details]** パネル内の [Expose to Matinee (マチネに公開)] チェックボックスを選択します。 

![Expose_ToMatinee.png](Expose_ToMatinee.png)

_ブループリント_ をコンパイルし終えたら、変数タイプを _マチネ_ で _トラック タイプ_ として使用することが可能になります。 

[REGION:note]
変数をコードにエクスポーズするには、キーワードとして Interp を [`UPROPERTY()` macro](Programming\UnrealArchitecture\Reference\Properties) に追加するだけです。 
[/REGION]

ほとんどの _トラック_ は追加すればすぐに機能しますが、以下の _トラック タイプ_ を機能させるには _マチネ_ へ (またはコードによって) 公開する必要があります。  


###Bool Property トラック
**Bool Property トラック** は、 _トラック_ を含んでいるグループに接続された _アクタ_ の bool 変数に対する制御を可能にします。_トラック_ を追加する際、 
_マチネ_ で制御可能な _アクタ_ に接続されている全ての bool 変数から選択できるダイアログが表示されます。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Property Name** | 読み取り専用の変数です。このトラックが時間経過にともなって変更する、接続されたアクタのプロパティの名前を示します。 |


###Float Property トラック
**Float Property トラック** では、 _アクタ_ の浮動小数点のプロパティ値を時間経過に伴い変更することができます (たとえば、ライトの輝度や _スタティックメッシュ アクタ_ の _DrawScale_ など)。この _トラック_ を作成すると、コンボボックスが現れて、そのグループのアクタの変更可能なプロパティがすべて表示されます。そこから 1 つ選択し、 _Movement トラック_ の場合と同じ方法でキーフレームを追加 / 編集します。[カーブエディタ](Engine/UI/CurveEditor) を使用して、パラメータの値を経時的に調整することも可能です。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Property Name** | 読み取り専用の変数です。このトラックが時間経過にともなって変更する、接続されたアクタのプロパティの名前を示します。 |


###Vector Property トラック
**Vector Property トラック** によって、 _アクタ_ の浮動小数点のプロパティ値を時間経過に伴い変更することができます (たとえば、 _スタティックメッシュ アクタ_ の _DrawScale3D_ など)。この _トラック_ を作成すると、 
コンボ ボックスが現れて、そのグループの _アクタ_ がもつ変更可能なプロパティをすべて表示します。そこから 1 つ選択し、 _Movement トラック_ の場合と同じ方法で 
キーフレームを追加 / 編集します。[カーブエディタ](Engine/UI/CurveEditor) を使用して、パラメータの値を経時的に調整することも可能です。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Property Name** | 読み取り専用の変数です。このトラックが時間経過にともなって変更する、接続されたアクタのプロパティの名前を示します。 |


###LinearColor Property トラック
**LinearColor Property トラック** はアタッチされた _アクタ_ の線形カラーの修正に使用します。 
例えば、 _ブループリント_ の一部に _Light コンポーネント_ が存在する場合、線形カラー変数をライトのカラーとして割り当ててから、このトラック タイプを使って変更することができます。 
線形カラーの成分は、 0 から 1 までの範囲の値を取ります (成分をオーバードライブするにはそれ以上にします)。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Property Name** | 読み取り専用の変数です。このトラックが時間経過にともなって変更する、接続されたアクタのプロパティの名前を示します。 |


###Color Property トラック
**Color Property トラック** はアタッチされた _アクタ_ のバイトベースのカラーの制御に使用します。 
例えば、**LinearColor Property トラック** とは異なり、レベル内に直接 _Light アクタ_ を置いた場合、 
その後で **Light Color** プロパティを調整できます。 

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Property Name** | 読み取り専用の変数です。このトラックが時間経過にともなって変更する、接続されたアクタのプロパティの名前を示します。 |



## Material Parameter トラック
_マチネ_ で操作可能な **Material Parameter トラック** が 2 つ存在します。 **Float Material パラメータ** と **Vector Material パラメータ** です。 


### Float Material Parameter トラック
**Float Material Parameter トラック** は、マテリアル内の Scalar パラメータを実行時に変更するために使用されます。この _トラック_ は、マテリアルのリストを受け取り、 
それらマテリアルの指定されたパラメータ値を変更します。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Target Materials** | そのパラメータが修正され、レベル内に _MaterialInstanceConstants_ を渡し保存時にコンパイルされなければならないマテリアルを参照するマテリアルのリスト。 |
| **Param Name** | 変更するマテリアルのパラメータ名です。 |

### Vector Material Parameter トラック
**Vector Material Parameter トラック** は、マテリアル内の Vector パラメータを実行時に変更するために使用されます。この _トラック_ は、マテリアルのリストを受け取り、 
それらマテリアルの指定されたパラメータ値を変更します。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Materials** | そのパラメータが修正され、レベル内に _MaterialInstanceConstants_ を渡し保存時にコンパイルされなければならないマテリアルへ参照するマテリアルのリスト。 |
| **Param Name** | 変更するマテリアルのパラメータ名です。 |


## Particle トラック
_マチネ_ で操作可能な **Particle トラック** が 2 つ存在します。**Float Particle Parameter トラック** と **Particle Replay トラック** です。 

### Float Particle Parameter トラック
**Float Particle Parameter トラック** は、実行時のパーティクル システムのパラメータ分布を修正するために使用されます。この _トラック_ を含むグループに接続されているパーティクル システム内で 
指定されたパラメータ名をもつパラメータが変更されます。つまり、 _SpawnRate_ という名のスポーンレートを調整するパラメータを各エミッタがもつ、 
炎や火花、スモークをともなった火のパーティクル システムを持つことができます。1 個の _Float Particle Param_ トラックによって、 
これらのパラメータのすべてが火を制御するようになります。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Param Name** | 変更するパーティクル システムのパラメータの名前です。 |


###Particle Replay トラック
**Particle Replay トラック** を使用すると、事前に録画したパーティクル シミュレーションを作成、再生することができます。すべてのショットで、パーティクルを同じように動作させたい場合に 
特に便利です。新しいキーを _Particle Replay トラック_ に追加すると、録画するクリップを新たに追加することになります。クリップ毎に、タイムライン上にバーが表示され、 
クリップの持続時間が示されます。

![replay_bar.png](replay_bar.png)

これを選択すると、クリップの開始位置と持続時間を調整できます。それには、タイムライン内のクリップバーの両端にあるハンドルを使用します。どちらかのハンドルを 
**左クリック** してドラッグして動かすと、クリップの持続時間を調整することができます。持続時間を調整しないでクリップを移動するには、キー上で **Ctr を押しながらクリック** して 
ドラッグします。
[REGION:fullwidth]
![replay_handles.png](replay_handles.png)
[/REGION] 

クリップの開始位置と持続期間を変更するには、タイムライン内のクリップバー上で **右クリック** して、該当するオプションをメニューから選択して行うことも可能です。 
クリップの ID も同様に変更することができます。

![replay_menu.png](replay_menu.png)

パーティクルシステム (複数可) の録画を開始するには、トラック上で **右クリック** して、コンテキスト メニューから **[Start Recording Particles]** を選択します。

![replay_start.png](replay_start.png)

録画がアクティブな場合は、クリップバーがタイムライン内でハイライト表示されます。

![replay_start_bar.png](replay_start_bar.png)

ツールバー内の **Play** ボタンを押すと再生が開始します。録画が有効になった状態で再生が行われる間、トラックがパーティクルを録画します。 
録画を完了したら、再度トラックを **右クリック** し、 **[Stop Recording Particles (パーティクルの録画を停止)]** を選択します。

![replay_stop.png](replay_stop.png)

これで、 **Play** ボタンを押すと、パーティクル システム (複数可) が、録画されたクリップから再生を開始します。 
タイムラインをスクラブ再生して、クリップを前後に動かして録画を確認することができます。


## Animation トラック
**Animation トラック** は、動的なゲームプレイやシネマティックなインゲームのシーケンスを作るために、時間の経過と共に _アクタ_ のプロパティをアニメートすることができます。 
この _トラック タイプ_ を使用すると、指定されたアニメーションをいつ、どのように再生するのかを制御するためにキーフレームを配置することができます。 

アニメーションを _トラック_ に追加するには、 _トラック_ をスクラブし、 **[Enter]** キーまたは **[Add Key]** ボタンを押します。キーが追加されると、以下のように、ポップアップ ウィンドウが表示されて 
トラックに追加するアニメーションを選択するよう促されます。 

[REGION:fullwidth]
![animtrack_animation_select.png](animtrack_animation_select.png)
[/REGION] 

_トラック_ に追加されたアニメーションは、青く表示されます。キーを **クリック** して選択してアニメーションを操作することができます。 

アニメーションを選択した状態で、カーソルを開始点または終了点まで以下の図のように両方向の矢印が表示されるまで移動して、 
いずれかの方向にドラッグすることで長さを調整することができます。 

[REGION:fullwidth]
![animtrack_adjust_time.png](animtrack_adjust_time.png)
[/REGION] 

アニメーション上を **Control を押しながら左クリック** しながら _トラック_ に沿ってドラッグしても、トラック上でアニメーションの位置を移動できます。 

[REGION:fullwidth]
![animtrack_moving.png](animtrack_moving.png)
[/REGION] 

アニメーション上に表示される数字は、アニメーションの再生数 (開始 > 終了) を表しています。開始 / 終了回数の次の数字 (x0.89 など) は、 
1.0 がデフォルトで、数字が高いほど再生速度があがり、数字が下がれば速度が落ちる場合のアニメーションの再生レートを表します。再生レートを調整するには、 
アニメーションの長さの調節時に **Control** を押します。 

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Slot Name** | アニメーション再生時に使用するスロット名です。_アクタ_ に渡されます。複数のトラックが同一スロット名を使用する場合、 _SetAnimPosition_ の呼び出し時にそれぞれ異なる _ChannelIndex_ が与えられます。 |
| **Skip Anim Notifiers** | アニメーション通知を全てスキップします。 |


## Event トラック
Event トラックを使用すると、_マチネ_ がシーケンスの特定時点にイベントを発行して、 _ブループリント_ に戻すことができるようになります。_Event トラック_ 上にキーフレームを配置すると、  
**イベント名** を求められます。一意の各 _イベント名_ によって、新たな出力コネクタが _Matinee アクタ_ 上に作成されます。シーケンスがキーに達すると、その出力に接続された _ブループリント_ ノードが 
アクティベートされます。同じ名前のキーが複数ある場合は、 1 個の出力コネクタが作成されますが、 
各キーが渡されるとアクティベートされることになります。

次は、 ToggleLight という名前の、キーが 1 個の Event トラックです。

![event_track.png](event_track.png)

次は _ブループリント_ 内の _Matinee アクタ_ です。新たな出力コネクターがあります。これを発生させるイベントに接続することができます。 

![event_connector.png](event_connector.png)

Event トラックのヘッダ上にある ![eventarrows.jpg](eventarrows.jpg) ボタンを使用すると、シーケンスを順送り / 逆送り / その両方 で再生する場合に出力をアクティベートすべきか否かを 
決めることができます。右向き矢印ボタンが黄色の場合、そのトラック上のイベントは、シーケンスが順送りで再生されているときに渡されるとアクティベートされます。左向き矢印ボタンが黄色の場合、シーケンスが逆送りで再生されていると 
イベントがアクティベートされます。

_Event トラック_ がどのグループの中にあるかは関係ありません。また、 _アクタ_ がそのグループに付属している必要はありません。 _Matinee アクタ_ はその _トラック_ 上に置かれた各キーに対して出力コネクタを 
作成します。Event キー上で右クリックすると、名前を変更することができます。これによって、同一名の他のキーの名前とマチネ アクタの出力コネクタ名も 
変更されます。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Fire Events When Backwards (逆送り時にイベントをアクティベート)** | _true_ の場合は、 _マチネ_ が逆送りで再生されているときに、このトラックのイベントがアクティベートされます。 |
| **Fire Events When Forwards (順送り時にイベントをアクティベート)** | _true_ の場合は、 _マチネ_ が順送りで再生されているときに、このトラックのイベントがアクティベートされます。 |
| **Fire Events When Jumping Forward (順送りでジャンプした時にイベントをアクティベート)** | _true_ の場合は、 _マチネ_ がスキップされたときでも、トラック内の全イベントをアクティベートすることができます。 |


##Sound トラック
**Sound トラック** を使用すると、 _マチネ_ シーケンス中に _SoundCues_ からオーディオを再生することができます。新たなキーを配置すると、現在コンテンツブラウザで選択されている _SoundCue_ が使用されます。_Sound Track_ のためのキーが、 _AnimControl Track_ のキーと同じように表示されます。_SoundCue_ の名前がついたバーが、 _SoundCue_ の持続時間分拡がります。

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Continue Sound On Matinee End (マチネ終端のサウンド継続)** | _true_ の場合は、トラック上で再生中のサウンドが、 _マチネ_ シーケンスの終端を超えて持続しているならば、中断されません。サウンド終了まで再生が継続します。|
| **Play On Reverse (逆送り再生)** | _true_ の場合は、 _マチネ_ シーケンスが逆送りで再生される場合にのみトラック上でサウンドが再生されます。シーケンスが順送りで再生されている場合は、サウンドが再生されません。この機能の使用例としては、ムーバーの開始サウンドと終了サウンドを異なるものにする場合などが考えられます。|
| **Suppress Subtitles (字幕停止)** | _true_ の場合は、このトラックで再生されているサウンドに関係する字幕が表示されません。 |


## Toggle トラック
**Toggle トラック** を使用すると、_マチネ_ のシーケンスの特定位置で _Emitter アクタ_ のオン / オフを切り替えることができます。 _Toggle トラック_ 上にキーフレームを置くと、 
次のようなダイアログが現れます。

![PSysToggle_Key.png](PSysToggle_Key.png)

オプションは以下の通りです。
* **Trigger** - パーティクル システムのワンショット アクティベーションです。
* **On** - パーティクル システムを有効にします。
* **Off** - パーティクル システムを無効にします。 

エミッタがオンに切り替わると、 _トラック_ のディスプレイに緑のバーが表示されるため、 _アクタ_ のステートが識別しやすくなります。次の画像では、 _Toggle トラック_ がエミッタをオンに切り替え、 
再びオフに戻しています。

![PSysToggle_Track.png](PSysToggle_Track.png)

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Activate System Each Update (更新毎にシステムをアクティベート)** | _true_ の場合、更新毎にトラックがエミッタ上の _ActivateSystem_ を呼び出します (いつもながらの不適切な振る舞い)。_false_ の場合は、前回非アクティブだった場合に限り _パーティクル システム_ がアクティベートされます。 |
| **Activate with Just Attached Flag** | _true_ の場合、トラックは Just Attached フラグでシステムをアクティベートします。 |
| **Fire Events When Backwards (逆送り時にイベントをアクティベート)** | _true_ の場合は、 _マチネ_ が逆送りで再生されているときに、このトラックのイベントがアクティベートされます。 |
| **Fire Events When Forwards (順送り時にイベントをアクティベート)** | _true_ の場合は、 _マチネ_ が順送りで再生されているときに、このトラックのイベントがアクティベートされます。 |
| **Fire Events When Jumping Forward (順送りでジャンプした時にイベントをアクティベート)** | _true_ の場合は、 _マチネ_ がスキップされたときでも、トラック内の全イベントをアクティベートすることができます。 |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |


##Visibility トラック
**Visibility トラック** によって、アクタの表示/非表示を制御できます (**Actor Hidden In Game** プロパティを使用します)。この _トラック_ に新たなキーを追加すると、 
関連する _アクタ_ について、 **[Show]** 、 **[Hide]** 、 **[Toggle]** のオプションがあるダイアログが表示されます。

![visibilitymenu.png](visibilitymenu.png)

_アクタ_ を表示設定にして後に非表示設定にすると、 _トラック_ のディスプレイに緑のバーが表示されるため、 _アクタ_ のステートが識別しやすくなります。これは、以下の図のように 
アクタを 約 1.0 秒表示した後、非表示になる _Visibility トラック_ で示されます。

![visibilitytrack.png](visibilitytrack.png)

_アクタ_ のビジビリティを切り替えるように設定されているキーには、小さな赤いバーが表示されるので、切り替えのキーであることが分かります。

![visibilitytoggle.png](visibilitytoggle.png)

以下は、 [Details (詳細)] パネルからこの _トラック_ を調整することができる _プロパティ_ です。 

| プロパティ | 説明 |
| ------- | ------------ |
| **Active Condition (アクティブ条件)** | トラックが有効になる場合を設定します。これには、「常に」、「ゴア (流血シーン) が有効な場合」、「ゴアが無効な場合」の 3 つの場合があります。 |
| **Curve Tension (カーブ テンション)** | 自動タンジェントを使う場合、カーブのシャープ度を制御します。 |
| **Property Name** | 読み取り専用の変数です。このトラックが時間経過にともなって変更する、接続されたアクタのプロパティの名前を示します。 |


