INTSourceChangelist:3810557
Availability: Public
Title:聚光源
Crumbs: %ROOT%, Engine, Engine/Rendering/LightingAndShadows, Engine/Rendering/LightingAndShadows/LightTypes
Description:聚光源基础描述。
Version: 4.9
topic-image:SpotLight_Topic.png

[REGION:fullwidth raw]
![](Spotlight_Header.png)
[/REGION]

[TOC(start:2 end:2)]


[EXCERPT:Intro]
**聚光源** 从圆锥形中的单个点发出光照。使用者可通过两个圆锥形来塑造光源的形状：**内圆锥角** 和 **外圆锥角**。在内圆锥角中，光照将达到完整亮度。从内半径的范围进入外圆锥角的范围中时将发生衰减，形成一个半影，或在聚光源照明圆的周围形成柔化效果。光照的半径将定义圆锥的长度。简单而言，它的工作原理类似于手电筒或舞台照明灯。 

和其他光源一样，聚光源可设为以下3种移动性设置中的一种： 

* **静态**——（左图）即无法在游戏中改变光源。这是最快的渲染方法，可用于已烘焙的光照。
* **静止**——（同见左图）即光源通过Lightmass仅烘焙静态几何体的投影和反射光照。其他则为动态光源。此设置还会允许光源在游戏中改变颜色和强度，但其不会移动并允许部分烘焙光照。 
* **可移动**——（左图）即为完全动态光源，可进行动态投影。这是最慢的渲染方法，但在游戏过程中拥有最高灵活性。 
[/EXCERPT:Intro]

以下范例显示的是放置在关卡中的 **聚光源**，展示了光源范围和椎体效应器的决定方式：

[OBJECT:ComparisonSlider]
	[PARAM:before]
	![Spot Light without its Cone showing](SpotLightNoCone.png)(w:600)
	[/PARAM]
	[PARAM:after]
	![Spot Light with Cone showing](SpotLightCone.png)(w:600)
	[/PARAM]
[/OBJECT]


左侧的聚光源未利用椎体显示光源范围，而右侧的相同聚光源则以椎体效应器显示了自身范围。


(#spotlightproperties)
## 聚光源属性

聚光源的属性分为以下4类：光源、光源描述文件、Lightmass，以及光照函数。 

(#light)
### 光源
属性 | 描述 |
| -------- | ----------- |
| **强度** | 光源所散发的总能量。 |
| **光源颜色** | 光源所发出的颜色。 |
| **椎体内部角度** | 设置聚光源椎体内部的角度（以度计）。 |
| **椎体外部角度** | 设置聚光源椎体外部的角度（以度计）。 |
| **衰减范围** | 限制光源的可见影响。|
| **源半径** | 光源的源形状半径。 |
| **源长度** | 光源的源形状长度。 |
| **影响场景** | 完全禁用光源。无法在运行时设置。要在运行时禁用光源效果，需修改其可视性属性。 |
| **投射阴影** | 光源是否投射阴影。 |
| **间接光照强度** | 缩放光源发出的间接光照贡献。 |
| **使用反转平方衰减** | 是否使用基于物理的反转平方距离衰减，其中AttenuationRadius仅限制光照贡献。 |
| **光源衰减指数** | 控制禁用UseInverseSquaredFalloff时光源的径向衰减。 |
| **最小粗糙度** | 对此光照产生作用的最小粗糙度。用于柔化反射高光。 |
| **阴影偏差** | 控制此光源所投射阴影的精确度。 |
| **阴影过滤器锐化度** | 此光源投射阴影过滤的锐化程度。 |
| **投射半透明阴影** | 该光源是否可从半透明物体处投射动态阴影。 |
| **影响动态间接光照** | 光源是否应被注入光照传播体积。|
| **投射静态阴影** | 此光源是否投射静态阴影。 |
| **投射动态阴影** | 此光源是否投射动态阴影。 |
| **影响半透明光照** | 光源是否影响半透明物体。 |


(#lightprofiles)
### 光源描述文件
属性 | 描述 |
| -------- | ----------- |
| **IES纹理** | IES“纹理”用于光源描述文件。虚幻引擎将IES文件显示为纹理，其实际上是ASCII，并非图像文件。 |
| **使用IES亮度** | 若为 _false_，将使用光源亮度决定产生的光源量。若为 _true_，将使用IES文件亮度（以流明计）（通常远大于虚幻引擎光源上的默认值）。 |
| **IES亮度缩放** | 对IES亮度贡献的缩放，其可能会使场景严重曝光。 |

(#lightmass)
### Lightmass
属性 | 描述 |
| -------- | ----------- |
| **间接光照饱和度** | 数值为0时将完全去除该Lightmass光源的饱和度，为1时保持不变。 |
| **阴影指数** | 控制阴影半影的衰减。 |


(#lightfunction)
### 光照函数
属性 | 描述 |
| -------- | ----------- |
| **光照函数材质** | 应用到该光源的光照函数材质。 |
| **光照函数缩放** | 缩放光照函数投射。 |
| **光照函数淡化距离** | 光照函数完全淡化为DisabledBrightness的距离。 |
| **禁用亮度** | 光照函数已指定但被禁用时应用到光源的亮度因子，以之前的属性为例：光照函数淡化距离。 |
