INTSourceChangelist:3244012
Availability:Public
Title:シーケンス レコーダー
Crumbs: %ROOT%, Engine
Description:シーケンス レコーダーツールの概要とゲームプレイをキャプチャーするための記録のオプションについて説明します。 
Navigation:topic
parent:Engine/Sequencer/Workflow
order:1
Version:4.13
Related:Engine\Sequencer\Overview
Related:Engine/Sequencer/HowTo
tags:Sequencer

**シーケンス レコーダー** を使って、ゲームプレイやレベル編集からアクタをレベル シーケンス内のスケルタル アニメーション、トランスフォーム、イベント、オーディオトラックに記録することができます。 
その後、**シーケンス エディタ** 内のレベル シーケンスで編集して、記録したものに基づきシネマティックスを作成することができます。 

[TOC(start:2 end:2)]


## シーケンス レコーダーを開く

メインの **メニュー バー** の **Window** タブからシーケンス レコーダーを開くことができます。 

![](EnableSequenceWindow.png)

[Sequence Recorder] を選択すると、[シーケンス レコーダー] ウィンドウが開きます。 

![](NoActorRecordWindow.png)

## 記録のためにアクタを追跡する

シーケンス レコーダーを初めて開くと、ウィンドウ上部に 3 つのボタンがあるのがわかります。[Record]、[Add]、および [Remove] の 3 つです。 

![](RecorderToolbar1.png)

こうしたボタンは記録を開始、記録のために追跡するアクタを追加する、記録リストからアクタを取り除くために使用します。 
**[Add]** ボタンをクリックすると、**[Record]** オプションと **[Remove]** オプションを利用できるようになります。 
これにより、 [Actor Tracking] ウィンドウに **[Actor Recording]** 欄も追加されますが、追跡対象のアクタは **None** になっています (以下参照)。 

![](RecorderToolbar2.png)

[Actor Recording] を選択すると、シーケンス レコーダーに記録に関する追加のオプション (以下でハイライト) が表示されます。

![](SequenceRecorderWindow.png)

こうしたオプションを使って、記録中にどのアクタを追跡するかをアニメーション設定と共に定義することができます。 
各 **[Actor to Record]** を異なるアクタを追跡するように設定した状態で、[Tracking] ウィンドウに複数の [Actor Tracking] 欄を追加することができます。 

[REGION:note]
シーケンス レコーダーでアクタを記録する手順については、[](Engine\Sequencer\HowTo\SequenceRecorder) をご覧ください。 
[/REGION]


## シーケンス レコーダーのオプション

シーケンス レコーダーを開くと、アクタをどのように記録するかを定義できる調整可能ないくつかのプロパティがあります。 
最初に、シーケンス レコーダーを開くと、デフォルトの **[Sequence Recording]** オプションだけが表示されます。記録のために追跡するアクタを追加すると、**[Actor Recording]** および **[Animation Recording]** のセクションがアクタ単位で利用可能になります。 

プロパティの一覧と説明について以下の表をご覧ください。

### シーケンスの記録

| オプション| 説明 |
| ---- | ----------- |
| **Create Level Sequence** | 記録するときにレベル シーケンスを作成するかどうかを設定します。有効な場合、アクタとアニメーションがこのシーケンスに挿入されます。|
| **Immersive Mode** | 記録時にビューポートを最大限大きくするかどうかを設定します。 |
| **Sequence Length** | 記録するシーケンスの最大長を定義します (0 に設定すると Stop を呼び出さない限り記録は継続します)。 |
| **Recording Delay** | 記録を開始する前の遅延です。 |
| **Sequence Name** | 記録するシーケンスの名前です。この名前は記録によって作成されるアセットがあればそれを自動生成するために使用されます。 |
| **Sequence Recording Base Path** | プロジェクト内の記録の保存場所を定義します。指定したベース パス内のサブ ディレクトリにサブ アセットが作成されます。 |
| **Record Nearby Spawned Actors** | 記録の一部として近くにスポーンされたアクタを記録するかどうかを設定します。 |
| **Nearby Actor Recording Proximity** | 新規にスポーンしたアクタを記録するために、現在記録されているアクタからの近さを定義します。 |
| **Record World Settings Actor** | シーケンスで World Settings アクタを記録するかどうかを設定します (一部のゲームはこれを使ってワールドの SFX をアタッチします)。 |
| **Actor Filter** | スポーンしたアクタを記録すべきかをチェックするためにフィルタリングします。展開可能なオプションから記録対象の Actor クラスを指定することができます。 |
| **Level Sequence Actors to Trigger** | 記録開始時に再生をトリガーする Sequence アクタ (例えば、同期したシーケンスを記録するために使用することができます)。 |
| **Default Animation Settings** | アニメーションの記録に適用されるデフォルト設定です。展開すると、ワールド空間を記録する、ルート アニメーションを取り除く、記録完了時にアセットを自動保存するかどうか、サンプル レートと長さの機能があります。
| **Classes and Properties to Record** | 指定したクラスを記録するためのプロパティです。ここで指定した Component クラスは記録されます。アクタにこうしたクラスが含まれていなければ無視されます。展開して、クラスと関連するプロパティを定義します。 |
| **Animation Sub Directory** | アニメーションが入るサブ ディレクトリ名です。シーケンスのベース パスと同じディレクトリに入れるために空のままにします。
| **Record Sequencer Spawned Actors** | シーケンサー自体によってスポーンされるアクタを記録するかどうかを設定します (結果が予測できないことがあるため通常は無効になります)。 |
| **Per Actor Settings** | 指定したクラスのアクタに適用される設定です。各クラスについて、所有可能なもの (レベルが所有) またはスポーン可能なもの (シーケンスが所有) を記録するかどうかを定義することができます。

### アクタの記録

| オプション| 説明 |
| ---- | ----------- |
| **Record Visibility** | アクタの可視性を記録するかどうかを設定します。 |
| **Record Transforms** | アクタのトランスフォームを記録するかどうかを設定します。シーケンス後にアクタを特定の位置で終わるようにしたい場合に役立ちます。デフォルトでは、アニメーションがトランスフォームを提供するようになっていますが、 **[Record in World Space]** アニメーション設定を使って変更することができます。
| **Actor to Record** | このオプションを使ってどのアクタを記録するかを定義します。 |

### アニメーションの記録

| オプション| 説明 |
| ---- | ----------- |
| **Specify Target Animation** | ターゲット アニメーションを指定するか、またはそれを自動作成するかどうかを設定します。 |
| **Target Animation** | **[Specify Target Animation]** が有効な場合に有効になり、記録対象のアニメーションを指定するために使います。 |
| **Animation Settings** | **[Default Animation Settings]** の **[Sequence Recording]** をご覧ください。これらは、**Actor to Record** に適用されます。 |
| **Record to Possessable** | 所有可能なもの (レベルが所有) またはスポーン可能なもの (シーケンスが所有) を記録するかどうかを定義することができます。デフォルトでグローバル設定になります。 |


## ヒントとコツ

このセクションには、シーケンス レコーダーで作業する場合に使用できるいくつかのワークフローのヒントとコツがあります。 

### 連続して記録

**[Sequence Recorder]** ウィンドウでは、**[Sequence Length]** を **0** に設定して、連続して記録することができます。 

![](NoLength.png)

0 に設定すると、**Esc** キーを押して記録を手動で停止しない限り、停止しません。 


### 右クリックによる記録

アクティブな **レベル シーケンス** が開いていれば、シーケンス レコーダー内で **Add** ボタンをクリックする代わりに、レベル内のアクタ上で右クリックしてコンテキスト メニューからアクタの記録を開始することができます (または **Alt + R** キーを押します)。 
これで、[Actor Tracking] ウィンドウにアクタが追加されて、設定した **Recording Delay** が過ぎた後、自動的に記録を開始します。 

![](RightClickRecord.png)

[REGION:note]
この操作は、エディタでの記録を開始するものであり、シーケンス レコーダーでの [ゲームプレイの記録](Engine\Sequencer\HowTo\SequenceRecorder) を開始するわけではないことにご注意ください。
[/REGION]


### サブシーンでゲームプレイを記録する

シーケンス レコーダーを使ってゲームプレイを記録すると、そのコンテンツを記録するための新しいレベル シーケンスが自動的に作成されます。 
記録したコンテンツを追加したいレベル シーケンスが既にある場合は、 [サブシーン トラック](Engine\Sequencer\HowTo\TracksSub) を使って、現在のプレイヤー ポーンを記録して行うことができます。 

[OBJECT:EmbeddedVideo]
[PARAMLITERAL:width]
640
[/PARAMLITERAL]
[PARAMLITERAL:height]
360
[/PARAMLITERAL]
[PARAMLITERAL:videoid]
Wab8bB69TIo
[/PARAMLITERAL]
[/OBJECT]

上の図では、新規レベル シーケンスをサブシーン トラックと合わせて作成しました。次に、ゲームプレイ中に **Shift + F1** キーを押して、マウス操作を可能にし、現在のプレイヤーのポーンに応じて用意ができた記録されたシーケンスを追加します。 
ゲームをプレイ中に、ビューポートで **[Record]** ボタンを押して記録を開始することができます。記録を終了するには、**Esc** キーを押します。 

[REGION:note]
この方法による記録は、 [Sequence Recorder] ウィンドウで **Actor to Record** を手動で追加して、シーケンス レコーダー内から記録を開始するのと同じことです。
シーケンス レコーダー内で定義する設定は、この Subscene Recording の方法を使用する場合に使われることを覚えておいてください。 
[/REGION]

### クラスのプロパティを記録する

シーケンスの記録中にアクタの特定のプロパティ値の変更を記録しますか？ 
シーケンス レコーダー ウィンドウの **[Classes and Properties to Record (記録するクラスとプロパティ)]** 設定を使ってどのクラスとその関連するプロパティを記録のために追跡するかを指定します。

![](PropertyRecording.png)

記録中にプロパティが変化すると、記録中の変更を反映させて自動的にキーフレーム化されます。 
追跡しているアクタに定義されたクラスが含まれない場合は、無視されます。 

デフォルトで、シーケンス レコーダーには、記録のために追跡する以下のクラスがあります。 

* SkeletalMeshComponent
* StaticMeshComponent
* ParticleSystemComponent
* LightComponent
* CameraComponent
* CineCameraComponent

こうしたクラスを使って記録中にその中のプロパティを追跡したり、これらを削除して独自のクラスを使用することができます。 



### 所有可能なものに記録する

追跡することをタグ付けしたアクタを記録することを選んだ場合、デフォルトでそのアクタの **スポーン可能** バージョンが自動的に作成されて、記録に追加されます。 
スポーン可能バージョンはレベル シーケンスが開いているときだけ存在しますが、新たにスポーン可能なものを作成する代わりにレベル内のアクタに直接書き込みたいこともあるかもしれません。 
これはシーケンス レコーダーの **[Animation Recording]** セクションの **[Record to Possessable]** オプションにチェックを入れることで行うことができます。 

![](RecordToPossessable.png)

このオプションをチェックすると、スポーン可能なものを作成しなくなりますが、記録を適用する所有可能なアクタを使います。 

[REGION:note]
詳しい情報については [所有可能なものとスポーン可能なもの](https://docs.unrealengine.com/latest/INT/Engine/Sequencer/Overview/index.html#possessablesvsstopspawnables) をご覧ください。
[/REGION]
### 没入モード

ゲームプレイを記録する場合、記録中に大きなビューポートを使ってゲームをプレイしたいと考えることがあるかもしれません。 
シーケンス レコーダー内の **[Immersive Mode (没入モード)]** オプションは、記録が有効な間、ビューポートを自動的に最大化します。 

![](ImmersiveMode.png)

記録を停止すると、ビューポートは通常のサイズに戻ります。 



