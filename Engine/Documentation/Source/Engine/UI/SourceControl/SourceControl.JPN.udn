INTSourceChangelist:3489755
Availability:Public
Title:ソースコントロール
Crumbs: %ROOT%
Description:このドキュメントでは、ソースコントロール機能の概要を説明します。
type:overview
skilllevel:Beginner
Version:4.16
parent:Engine/UI
order:
tags:User Interface
topic-image:SourceControlTopic.png

[TOC(start:2)]

アンリアル エディタでは、ソース コントロール パッケージをビルトイン サポートしています。ソース コントロールは時間経過に伴うコードやデータの変更を管理するために使用します。チーム内でゲーム制作の作業を調整することができます。

[REGION:note]
	Perforce と SVN はデフォルトでサポートされています。
[/REGION]

## ソースコントロールを有効にする

以下の 2 つのいずれかの方法でソースコントロールを有効にします。
* レベル エディタの **[Preferences]** ウィンドウで有効にする
* **コンテンツ ブラウザ**

### Editor Preferences (エディタの環境設定) でソースコントロールを有効にする

エディタの [Preferences] ウィンドウでソースコントロールを有効にすることができます (**Edit > Editor Preferences > Loading & Saving** の順序で選択)。

![SourceControlPreferences.png](SourceControlPreferences.png)

| アイテム | 説明 |
| --- | --- |
| **Automatically Checkout on Asset Modification** | チェックを入れると、変更されたアセットがあれば自動的にチェックアウトします。  |
| **Prompt for Checkout on Package Modification** | チェックを入れると、ソースコントロールされたパッケージを変更する場合に、そのパッケージをチェックアウト (ロック) するかを尋ねるプロンプトが表示されます。 |
| **Add New Files when Modified** | ファイルが修正されると、その新規ファイルがソースコントロールへ追加されます。 |
| **Use Global Settings** | プロジェクト毎ではなく、グローバルなソースコントロールのログイン設定を使用します。これを変更するには再度ログインする必要があります。 |
| **Tool for diffing text** | テキスト ファイルを比較し差分を検出するために使うツールへのファイル パスを指定します。 |

### [コンテンツ ブラウザ] でソースコントロールを有効にする

**[コンテンツ ブラウザ]** でソースコントロールをアクティベートすることもできます。これを行うには、任意のアセットまたはフォルダで右クリックします。コンテキスト メニューの一番下の**[ソースコントロール]** セクションで**[ソースコントロールへ接続]** をクリックします。

![Connect to Source Control](CB_SourceControl.png)

ログイン画面が開きます。この画面で、ソースコントロール システムを選択し、適切な設定やその他の情報を入力できます。

![Source Control Login](CB_SourceControlLogin.png)

適切な情報を入力して、**[Accept Settings]** をクリックします。ソースコントロールがアクティベートしたら、**[コンテンツ ブラウザ]** のアセット表示がソースコントロールのステータスを反映するように変更されます。いくつかのソースコントロールのオプションが 右クリック のコンテキストメニューに含まれます。


##ステータスのアイコン

**[コンテンツ ブラウザ]** には、ソースコントロールのステータスを示す特別なアイコンがアセットの 右上 に表示されます。以下は利用可能なアイコンとその意味を示したものです。


[REGION:imagetable]
| ![CheckedOutByYou.png](CheckedOutByYou.png)(w:178) | ![CheckedOut.png](CheckedOut.png)(w:178) | ![MarkedForAdd.png](MarkedForAdd.png)(w:178) | ![NotInTheDepot.png](NotInTheDepot.png)(w:178) | ![NotHeadRevision.png](NotHeadRevision.png)(w:178) 
| --- | --- | --- | --- | --- |
| 自分がチェックアウト | 他のユーザーがチェックアウト | 追加するためにマーク付けされたもの | デポにありません | ソースコントロールに新しいバージョンのファイルがあります
[/REGION]

## ソースコントロールのアクション

ソースコントロールが有効である間は、アセット上で右クリックすることにより、以下のコンテキスト メニューを利用できます。

![SourceControlMenu.png](SourceControlMenu.png)

| アイテム | 説明 |
| --- | --- |
| **Check Out** | 編集を行うためにアセットをチェックアウト (ロック) します。チェックアウトすることで、同じアセットを他のユーザーが同時に編集しないようにします。 |
| **Refresh** | アセットのソースコントロールのステータスをリフレッシュします。 |
| **History** | 選択したアセットの改訂履歴リストが表示されます。過去の編集履歴を見ることができます。 |
| **Diff Against Depot** | 現在、ソースコントロール デポに保存されているバージョンに対してアセットをチェックすることができます。 |

## チェックアウトとチェックイン

編集を行うためにアセットをチェックアウトするには、そのアセット上で右クリックして、**チェックアウト** を選択します。アセットをチェックインして戻す場合、以下の手順に従います。

* アセット上で右クリックし、**チェックイン** を選択します。チェックインについて必要なチェンジリストの説明欄を含むダイアログが表示されます。
* 簡単な説明を入力します。これはアセットの改訂履歴に追加されます。
* 終了したら **[OK]** をクリックしてください


![ChangelistDescription.png](ChangelistDescription.png)

[REGION:note]
チェンジリストの説明は必須であるため、入力されるまで **OK** ボタンは有効になりません。
[/REGION]

##コンテンツのホット リロード

**Content Hot Reloading (コンテンツのホット リロード)** は、ソース コントロールの操作によってコンテンツに変更が加えられた場合に、インエディタのソース コントロールでコンテンツを自動的にリロードする新機能です。現在、この自動リロードはインエディタのソース管理の統合を使ってソース コントロール操作を行っている場合にのみ機能します。外部で変更を加えてもリロードはトリガーされません。今後のバージョンではこの要件をなくして、外部の変更によってもホットリロードがトリガーするようにするつもりです。

コンテンツのホットリロードでは、指示すると最後に保存した状態からアセットをリロードする機能もあります。これは **コンテンツ ブラウザ** でアセットを右クリックして、 **Asset Actions** グループで **Reload** オプションを選択して行うことができます。これは、アセットに対して保存していない変更があり、それを破棄してディスク上のバージョンに戻したい場合に非常に便利です。

![ContentHotReload.png](ContentHotReload.png)

[REGION:note]現在、この機能はプロジェクトに対してアクティブなソース コントロールを行っていることを前提とします。[/REGION:note]

## ソースコントロールを非アクティブにする

アクティブにした後に、ソースコントロールを非アクティブにしたい場合があるかもしれません。

[REGION:warning]
ソースコントロールを使用しないことが確実である場合に限り、このオプションを使用してください。ソースコントロールを非アクティブにすると、ソースコントロール システムとコンテンツが同期しなくなり、変更を登録できなくなります。
[/REGION]

**ソースコントロールを非アクティブにするには** 以下の手順に従います。

1. [Level Editor] ウィンドウの右上隅で、緑色の矢印が 2 つあるアイコン (![](icon_SourceControl.png)) をクリックします。これで **[Source Control Login]** 画面が表示されます。
1. **[Run Without Source Control]** ボタンをクリックします。レベル エディタ ウィンドウの緑色のアイコンが、斜線付きの赤い円 (![](icon_CB_SourceControlOff.png)) に変わります。この赤い円は、ソースコントロールが使用されていないことを表します。
