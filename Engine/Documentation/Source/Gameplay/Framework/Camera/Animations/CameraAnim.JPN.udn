INTSourceChangelist:2699661
Availability:Public
Title:CameraAnims
Crumbs:%ROOT%, Gameplay, Gameplay/Framework, Gameplay/Framework/Camera
Description:CameraAnims はカメラに衝撃、環境にモーション、またその他のエフェクトをシミュレーションするために、アニメーションをレイヤーすることができます。
Version:4.9

考え方として、**CameraAnim** とはゲーム内のカメラに重ねることができるアニメーションのことです。カメラの位置と回転、FOV、ポスト プロセスの設定をアニメートすることができます。
CameraAnim の位置、回転、FOV の変更が加算的にゲーム カメラに追加されます。これらのキーフレームは「初期位置からの相対位置」として扱われます。つまりアニメーションの time 0.0 からの 
デルタのみが適用されます。

CameraAnim のポストプロセス設定は、シーンのポストプロセスに影響を与える他のシステム同様、ブレンド / レイヤー方式で適用されます。一時的なカメラ (temporary camera) のプロパティからオーバーライドする設定を選択して、 
適切なマチネ トラック経由で設定をアニメートすることができます。プレビュー ウィンドウの表示は、実際にアニメーションを再生した時の 
アニメーションとほぼ同じです。一時的なカメラには、設定でシーンに影響を与える強度をコントロールするためにPostProcessBlendWeight を設定したりアニメートすることもできます。

## CameraAnims の作成と編集
CameraAnim を作成する方法は何通りかあります。ブランクの CameraAnim を作成する一番簡単な方法は、他のアセットの場合と同じように **コンテンツ ブラウザ** を使う方法です。カメラ補間グループ上を **右クリック** したメニューから "Export to CameraAnim" を選択して、 
別のマチネのカメラ トラックを CameraAnim に変換することもできます。例えば Maya などのツールを使用してカメラのキーフレームをマチネにインポート出来るため、 
これは外部ソースから CameraAnim をインポートするためのパイプラインとなります。

CameraAnim を編集するには、**コンテンツブラウザ** で、他のアセットの場合と同じようにアセットを **ダブルクリック** します。CameraAnim エディタはマチネを多少カスタマイズしたバージョンのエディタです。CameraAnim を編集時に、 
キーの作成やアニメーションのプレビューを操作することができる一時的なカメラをワールドに配置します。

## CameraAnim の再生
**PlayerCameraManager** は、C++ コードまたはブループリントスクリプトのいずれかによって、CameraAnims をゲームのカメラに適用する制御を有効にする関数を格納しています。CameraAnim の再生時は、 
アニメーションのアクティブ インスタンスの再生情報を格納する CameraAnimInst が作成されます。ユーザーはこのオブジェクトを使用して、アニメーションを手動で停止したり、playback パラメータを修正することができます。

複数の CameraAnimInst (現在は最大 8 個) を同時にアクティブにできます。これらすべてがブレンドされ最終的なカメラの設定に寄与します。

## 空間の再生
CameraAnim はどんな空間でも再生することができます。最も一般的な使用方法は、カメラ空間での再生です。例えば、左右 (Y軸) に振動するアニメーションを作成してこれをゲームで再生した場合も、 
カメラの向いている方向に関係なく、カメラを左右に揺らします。  

ワールド空間の CameraAnim の再生はあまり一般的ではないですが役立ちます。前方を見ている時にカメラのモーションをロールさせて、船体の側面を見ている時はモーションをピッチさせるなど、 
船の横揺れのシミュレーションなどに使用します。

最後に、任意の空間を指定することができます。船の例などを利用して、船上を歩いている船が動いたり、
 ロック モーションのワールド空間軸の変更が可能な時にこの操作を行います。その他のユースケースとしては、ショットまたは爆発などに基づいて「ヒット」する指向性カメラがあります。カメラを素早く上方へピッチする単一アニメーションの 
 作成を考えてみましょう。近くで爆発が起こった場合は、変更ベクターを利用して爆発の中心にトランスフォームを定義して、このスペースに CameraAnim を再生することができます。 
 結果としてカメラは常に爆発から離れて回転します。
