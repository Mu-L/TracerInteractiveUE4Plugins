INTSourceChangelist:3356303
Availability:Public
Title:ネットワーク構築の概要
Crumbs:%ROOT%, Gameplay, Gameplay/Framework
Description:マルチプレイヤーに対応するネットワークゲームの設定
Related:Gameplay/Networking/Blueprints
Related:Gameplay/Networking/Example
Related:Gameplay/Networking/Actors
Related:Gameplay/Networking/Server
version:4.9

UE4 のフレームワークはマルチプレイヤーゲームを考慮して作られています。フレームワークの規約に従う限り、シングルプレイ体験をマルチプレイヤーへ拡張する作業はほとんどの場合あまりありません。

UE4 のネットワークはサーバー/クライアントモデルを元に構築されています。つまり権限を持つサーバー (重要なすべての意思決定) が 1 つあり、このサーバーはクライアントがサーバーのワールドの近似値を最新に保つために、接続中のクライアントが常に更新していることを確認します。ネットワーク化されていないシングルプレイヤー ゲームにもサーバーがあります。この場合、ローカルマシンがサーバーの役割をします。

## アクタ

シングルプレイヤー体験のアクタは、ゲームワールドの表現に使用します。サーバーが正式な値を保持するのに対し、クライアントはそれぞれのアクタの近似値を保持する点を除いて、マルチプレイヤー体験でも違いはありません。

アクタは、サーバーがクライアントを最新に保つために非常に便利です。サーバーが特定のクライアントを更新する時は、最後の更新から変更したと判断する関連アクタをすべて収集して、その後これらのアクタを最新ステートに保つためにクライアントへ必要な情報を送信します。

## ネットワーク モード

| ネットワーク モード タイプ | 機能 / 理想的なユースケース |
| --- | --- |
| `NM_Standalone` | ローカル マシン上で実行中のサーバーを示し、リモート クライアントからの接続要求は受け付けません。シングルプレイヤー ゲーム、またはローカル マルチプレイヤー ゲームに最適です。 |
| `NM_DedicatedServer` | デディケイテッド サーバーはローカル プレイヤーは使用できないので、サウンド、グラフィックス、ユーザー入力、他のプレイヤー向け機能を切り捨てて効率的に実行できます。パフォーマンス力の高い信頼できるサーバーを必要とする、競争力の高い MOBA タイトル、MMO ゲーム、オンライン シューティングゲームなど、信頼できるサーバー上でホストされるマルチプレイヤー ゲームで使われます。 |
| `NM_ListenServer` | リッスン サーバーはローカル プレイヤーをホストしますが、リモート プレイヤーからの接続も可能です。デディケイテッド サーバーを必要としないランクマッチ型や対戦型ゲームに適しています。ユーザーはサードパーティ サーバーなしで自分のゲームの設定およびプレイができます。ホストにネットワーク レイテンシーがないためホストに優位性を与え、ゲームはホストの警告なしに終了することができます。 |
| `NM_Client` | 唯一、サーバーではないタイプです。このモードにすると、ローカル マシンはデディケイテッド サーバーもしくはリッスン サーバーのクライアントとなるので、サーバー側のロジックを実行しません。 |
